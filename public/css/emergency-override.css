/*
 * YOLO Yacht Search - Emergency CSS Override v3.7.5
 * Selective fixes for Bootstrap Grid and sticky sidebar
 * 
 * IMPORTANT: Only targets MAIN layout grids, NOT internal content grids
 */

/* ==========================================
   FORCE FULL WIDTH LAYOUT
   ========================================== */

/* Reset ALL WordPress theme container restrictions */
body .yolo-ys-our-fleet,
body .yolo-ys-search-results,
body .yolo-yacht-details-v3,
#content .yolo-ys-our-fleet,
#content .yolo-ys-search-results,
#content .yolo-yacht-details-v3,
.entry-content .yolo-ys-our-fleet,
.entry-content .yolo-ys-search-results,
.entry-content .yolo-yacht-details-v3,
main .yolo-ys-our-fleet,
main .yolo-ys-search-results,
main .yolo-yacht-details-v3,
.site-content .yolo-ys-our-fleet,
.site-content .yolo-ys-search-results,
.site-content .yolo-yacht-details-v3,
.wp-block-post-content .yolo-ys-our-fleet,
.wp-block-post-content .yolo-ys-search-results,
.wp-block-post-content .yolo-yacht-details-v3,
article .yolo-ys-our-fleet,
article .yolo-ys-search-results,
article .yolo-yacht-details-v3 {
    max-width: 100vw !important; /* Changed from 100% to 100vw to fix WordPress theme overflow */
    width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding-left: 20px !important;
    padding-right: 20px !important;
    box-sizing: border-box !important;
}

/* ==========================================
   FORCE BOOTSTRAP GRID - MAIN LAYOUT ONLY
   ========================================== */

/* Force container-fluid */
body .yolo-ys-our-fleet > .container-fluid,
body .yolo-ys-search-results > .container-fluid,
body .yolo-yacht-details-v3 > .container-fluid,
#content .yolo-ys-our-fleet > .container-fluid,
#content .yolo-ys-search-results > .container-fluid,
#content .yolo-yacht-details-v3 > .container-fluid,
.entry-content .yolo-ys-our-fleet > .container-fluid,
.entry-content .yolo-ys-search-results > .container-fluid,
.entry-content .yolo-yacht-details-v3 > .container-fluid,
main .yolo-ys-our-fleet > .container-fluid,
main .yolo-ys-search-results > .container-fluid,
main .yolo-yacht-details-v3 > .container-fluid,
article .yolo-ys-our-fleet > .container-fluid,
article .yolo-ys-search-results > .container-fluid,
article .yolo-yacht-details-v3 > .container-fluid {
    width: 100% !important;
    max-width: 100% !important;
    padding-right: 15px !important;
    padding-left: 15px !important;
    margin-right: auto !important;
    margin-left: auto !important;
}

/* Force Bootstrap row - ONLY for yacht grid and main content row */
body .yolo-ys-our-fleet .yolo-ys-yacht-grid,
body .yolo-ys-search-results .container-fluid > .row,
body .yolo-yacht-details-v3 > .container-fluid > .row,
#content .yolo-ys-our-fleet .yolo-ys-yacht-grid,
#content .yolo-ys-search-results .container-fluid > .row,
#content .yolo-yacht-details-v3 > .container-fluid > .row,
.entry-content .yolo-ys-our-fleet .yolo-ys-yacht-grid,
.entry-content .yolo-ys-search-results .container-fluid > .row,
.entry-content .yolo-yacht-details-v3 > .container-fluid > .row,
main .yolo-ys-our-fleet .yolo-ys-yacht-grid,
main .yolo-ys-search-results .container-fluid > .row,
main .yolo-yacht-details-v3 > .container-fluid > .row,
article .yolo-ys-our-fleet .yolo-ys-yacht-grid,
article .yolo-ys-search-results .container-fluid > .row,
article .yolo-yacht-details-v3 > .container-fluid > .row {
    display: flex !important;
    flex-wrap: wrap !important;
    margin-right: -15px !important;
    margin-left: -15px !important;
    box-sizing: border-box !important;
}

/* Force Bootstrap columns - ONLY for yacht cards and main content columns */
body .yolo-ys-our-fleet .yolo-ys-yacht-grid > [class*="col-"],
body .yolo-ys-search-results .container-fluid > .row > [class*="col-"],
body .yolo-yacht-details-v3 > .container-fluid > .row > [class*="col-"],
#content .yolo-ys-our-fleet .yolo-ys-yacht-grid > [class*="col-"],
#content .yolo-ys-search-results .container-fluid > .row > [class*="col-"],
#content .yolo-yacht-details-v3 > .container-fluid > .row > [class*="col-"],
.entry-content .yolo-ys-our-fleet .yolo-ys-yacht-grid > [class*="col-"],
.entry-content .yolo-ys-search-results .container-fluid > .row > [class*="col-"],
.entry-content .yolo-yacht-details-v3 > .container-fluid > .row > [class*="col-"],
main .yolo-ys-our-fleet .yolo-ys-yacht-grid > [class*="col-"],
main .yolo-ys-search-results .container-fluid > .row > [class*="col-"],
main .yolo-yacht-details-v3 > .container-fluid > .row > [class*="col-"],
article .yolo-ys-our-fleet .yolo-ys-yacht-grid > [class*="col-"],
article .yolo-ys-search-results .container-fluid > .row > [class*="col-"],
article .yolo-yacht-details-v3 > .container-fluid > .row > [class*="col-"] {
    position: relative !important;
    padding-right: 15px !important;
    padding-left: 15px !important;
    box-sizing: border-box !important;
    flex-shrink: 0 !important;
}

/* Force Bootstrap column widths - Desktop (lg) - MAIN LAYOUT ONLY */
@media (min-width: 992px) {
    /* Yacht grid - 3 per row */
    body .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-lg-4,
    body .yolo-ys-search-results .container-fluid > .row > .col-lg-4,
    #content .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-lg-4,
    #content .yolo-ys-search-results .container-fluid > .row > .col-lg-4,
    .entry-content .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-lg-4,
    .entry-content .yolo-ys-search-results .container-fluid > .row > .col-lg-4,
    main .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-lg-4,
    main .yolo-ys-search-results .container-fluid > .row > .col-lg-4,
    article .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-lg-4,
    article .yolo-ys-search-results .container-fluid > .row > .col-lg-4 {
        flex: 0 0 33.333333% !important;
        max-width: 33.333333% !important;
    }
    
    /* Yacht details - 8/4 split */
    body .yolo-yacht-details-v3 > .container-fluid > .row > .col-lg-8,
    #content .yolo-yacht-details-v3 > .container-fluid > .row > .col-lg-8,
    .entry-content .yolo-yacht-details-v3 > .container-fluid > .row > .col-lg-8,
    main .yolo-yacht-details-v3 > .container-fluid > .row > .col-lg-8,
    article .yolo-yacht-details-v3 > .container-fluid > .row > .col-lg-8 {
        flex: 0 0 66.666667% !important;
        max-width: 66.666667% !important;
        width: 66.666667% !important;
    }
    
    body .yolo-yacht-details-v3 > .container-fluid > .row > .col-lg-4,
    #content .yolo-yacht-details-v3 > .container-fluid > .row > .col-lg-4,
    .entry-content .yolo-yacht-details-v3 > .container-fluid > .row > .col-lg-4,
    main .yolo-yacht-details-v3 > .container-fluid > .row > .col-lg-4,
    article .yolo-yacht-details-v3 > .container-fluid > .row > .col-lg-4 {
        flex: 0 0 33.333333% !important;
        max-width: 33.333333% !important;
        width: 33.333333% !important;
    }
    
    /* Quick specs - 4 per row on medium+ screens */
    body .yolo-yacht-details-v3 .yacht-quick-specs > .col-md-3,
    #content .yolo-yacht-details-v3 .yacht-quick-specs > .col-md-3,
    .entry-content .yolo-yacht-details-v3 .yacht-quick-specs > .col-md-3,
    main .yolo-yacht-details-v3 .yacht-quick-specs > .col-md-3,
    article .yolo-yacht-details-v3 .yacht-quick-specs > .col-md-3 {
        flex: 0 0 25% !important;
        max-width: 25% !important;
        width: 25% !important;
    }
}

/* Force Bootstrap column widths - Tablet (sm) - MAIN LAYOUT ONLY */
@media (min-width: 576px) and (max-width: 991px) {
    body .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-sm-6,
    body .yolo-ys-search-results .container-fluid > .row > .col-sm-6,
    #content .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-sm-6,
    #content .yolo-ys-search-results .container-fluid > .row > .col-sm-6,
    .entry-content .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-sm-6,
    .entry-content .yolo-ys-search-results .container-fluid > .row > .col-sm-6,
    main .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-sm-6,
    main .yolo-ys-search-results .container-fluid > .row > .col-sm-6,
    article .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-sm-6,
    article .yolo-ys-search-results .container-fluid > .row > .col-sm-6 {
        flex: 0 0 50% !important;
        max-width: 50% !important;
        width: 50% !important;
    }
    
    /* Equipment and Tech grids - 2 per row on small+ screens */
    body .yolo-yacht-details-v3 .equipment-grid > .col-sm-6,
    body .yolo-yacht-details-v3 .tech-grid > .col-sm-6,
    #content .yolo-yacht-details-v3 .equipment-grid > .col-sm-6,
    #content .yolo-yacht-details-v3 .tech-grid > .col-sm-6,
    .entry-content .yolo-yacht-details-v3 .equipment-grid > .col-sm-6,
    .entry-content .yolo-yacht-details-v3 .tech-grid > .col-sm-6,
    main .yolo-yacht-details-v3 .equipment-grid > .col-sm-6,
    main .yolo-yacht-details-v3 .tech-grid > .col-sm-6,
    article .yolo-yacht-details-v3 .equipment-grid > .col-sm-6,
    article .yolo-yacht-details-v3 .tech-grid > .col-sm-6 {
        flex: 0 0 50% !important;
        max-width: 50% !important;
        width: 50% !important;
    }
}

/* Force Bootstrap column widths - Mobile (default) - MAIN LAYOUT ONLY */
@media (max-width: 575px) {
    body .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-12,
    body .yolo-ys-search-results .container-fluid > .row > .col-12,
    body .yolo-yacht-details-v3 > .container-fluid > .row > .col-12,
    #content .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-12,
    #content .yolo-ys-search-results .container-fluid > .row > .col-12,
    #content .yolo-yacht-details-v3 > .container-fluid > .row > .col-12,
    .entry-content .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-12,
    .entry-content .yolo-ys-search-results .container-fluid > .row > .col-12,
    .entry-content .yolo-yacht-details-v3 > .container-fluid > .row > .col-12,
    main .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-12,
    main .yolo-ys-search-results .container-fluid > .row > .col-12,
    main .yolo-yacht-details-v3 > .container-fluid > .row > .col-12,
    article .yolo-ys-our-fleet .yolo-ys-yacht-grid > .col-12,
    article .yolo-ys-search-results .container-fluid > .row > .col-12,
    article .yolo-yacht-details-v3 > .container-fluid > .row > .col-12 {
        flex: 0 0 100% !important;
        max-width: 100% !important;
    }
}

/* ==========================================
   FORCE STICKY SIDEBAR
   ========================================== */

/* Ultra-aggressive sticky sidebar fix */
body .yacht-booking-section,
#content .yacht-booking-section,
.entry-content .yacht-booking-section,
main .yacht-booking-section,
article .yacht-booking-section,
.yolo-yacht-details-v3 .yacht-booking-section {
    position: sticky !important;
    top: 100px !important;
    align-self: flex-start !important;
    max-height: calc(100vh - 120px) !important;
    overflow-y: auto !important;
    scrollbar-width: thin !important;
    scrollbar-color: #1e3a8a #f3f4f6 !important;
}

/* Disable sticky on mobile */
@media (max-width: 991px) {
    body .yacht-booking-section,
    #content .yacht-booking-section,
    .entry-content .yacht-booking-section,
    main .yacht-booking-section,
    article .yacht-booking-section,
    .yolo-yacht-details-v3 .yacht-booking-section {
        position: static !important;
        align-self: auto !important;
        max-height: none !important;
        overflow-y: visible !important;
    }
}

/* ==========================================
   YACHT CARD FIXES
   ========================================== */

/* Ensure yacht cards fill their columns */
body .yolo-ys-yacht-card,
#content .yolo-ys-yacht-card,
.entry-content .yolo-ys-yacht-card,
main .yolo-ys-yacht-card,
article .yolo-ys-yacht-card {
    width: 100% !important;
    min-width: 0 !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
    display: flex !important;
    flex-direction: column !important;
}
